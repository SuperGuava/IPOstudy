openapi: 3.1.0
info:
  title: Anti-Gravity IPO Fast Fetch API
  version: 0.1.0
servers:
  - url: http://localhost:8000/api/v1
paths:
  /health:
    get:
      summary: Health check
      responses:
        "200":
          description: OK
  /company/snapshot:
    get:
      summary: Company snapshot
      parameters:
        - in: query
          name: corp_code
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Company snapshot response
  /company/{corp_code}/financials:
    get:
      summary: Company financials
      parameters:
        - in: path
          name: corp_code
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Financial statement summary
  /ipo/pipeline:
    get:
      summary: IPO pipeline list
      responses:
        "200":
          description: Pipeline items
  /ipo/{pipeline_id}:
    get:
      summary: IPO pipeline detail
      parameters:
        - in: path
          name: pipeline_id
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Pipeline detail
  /export/ipo.xlsx:
    get:
      summary: Export IPO list to xlsx
      responses:
        "200":
          description: XLSX binary
          content:
            application/vnd.openxmlformats-officedocument.spreadsheetml.sheet:
              schema:
                type: string
                format: binary
  /export/company/{corp_code}.xlsx:
    get:
      summary: Export company snapshot to xlsx
      parameters:
        - in: path
          name: corp_code
          required: true
          schema:
            type: string
      responses:
        "200":
          description: XLSX binary
          content:
            application/vnd.openxmlformats-officedocument.spreadsheetml.sheet:
              schema:
                type: string
                format: binary
  /quality/issues:
    get:
      summary: List data quality issues
      parameters:
        - in: query
          name: source
          required: false
          schema:
            type: string
        - in: query
          name: severity
          required: false
          schema:
            type: string
        - in: query
          name: rule_code
          required: false
          schema:
            type: string
        - in: query
          name: from
          required: false
          schema:
            type: string
            format: date
        - in: query
          name: to
          required: false
          schema:
            type: string
            format: date
      responses:
        "200":
          description: Quality issues list
  /quality/summary:
    get:
      summary: Daily quality summary
      parameters:
        - in: query
          name: source
          required: false
          schema:
            type: string
        - in: query
          name: from
          required: false
          schema:
            type: string
            format: date
        - in: query
          name: to
          required: false
          schema:
            type: string
            format: date
      responses:
        "200":
          description: Daily quality aggregation
  /quality/entity/{entity_key}:
    get:
      summary: Quality issue history by entity key
      parameters:
        - in: path
          name: entity_key
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Entity quality history
